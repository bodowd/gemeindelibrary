{% extends "layout.html" %}
{% block content %}
<div class="content-section">
    <div class="media">
        <div class="media-body">
            <h2 class="account-heading">{{ current_user.username}}</h2>
            <p class="text-secondary">{{ current_user.email }}</p>
        </div>
    </div>
    <div class="media-body">
        <h3>This will replace any existing booklist you have stored!!!</h3></br>
        <p>Please submit a .xlsx or tab-delimited (because book titles can contain commas) .txt file containing only a column of book titles.</p>
    </div></br>
    <!-- FORM HERE -->
    <!-- action="" posts the form to the same route that we already on -->
    <form method="POST" action="" enctype="multipart/form-data" onsubmit="return confirm('Are you sure you wish to create a new list?\nThis will replace your current list!!!');"> <!-- REMEMBER multipart/form-data for some reason -->
        <!-- hidden_tag adds a csf token to protect from certain attacks -->
        {{ form.hidden_tag() }}

        <div class="form-group">
            {{ form.booklist_file.label() }}
            {{ form.booklist_file(class="form-control-file") }}
            {% if form.booklist_file.errors %}
            {% for error in form.booklist_file.errors %}
            <span class="test-danger">{{ error }}</span></br>
            {% endfor %}
            {% endif %}
        </div>
        <div class="form-group">
            {{ form.submit(class="btn btn-danger") }}
        </div>
    </form>
</div>
{% endblock content %}
